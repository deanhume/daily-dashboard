<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>title</title>
</head>

<body>

</body>
<script>
    var r = new XMLHttpRequest();
    r.open("GET", "https://huxley.apphb.com/departures/wby/30?accessToken=b09cb836-f190-445d-8b96-372eb024141d&expand=true", true);

    r.onreadystatechange = function () {
        if (r.readyState != 4 || r.status != 200) return;
        var resp = JSON.parse(r.response);
        if (resp.trainServices && resp.trainServices.length > 0) {

            // Loop through the results
            for (i = 0; i < resp.trainServices.length; i++) {

                // Loop through the subsequent calling points
                for (y = 0; y < resp.trainServices[i].subsequentCallingPoints[0].callingPoint.length; y++) {

                    if (resp.trainServices[i].subsequentCallingPoints[0].callingPoint[y].locationName === "Woking"){
                        alert("The next train to leave from " + resp.locationName + " to Guildford will leave at: " + resp.trainServices[i].std + " and is " + resp.trainServices[i].etd);
                    }

                }
            }
        } else {
            // No data
        }
    };
    r.send();

    // TODO: Add Weather API - https://openweathermap.org/current
    // const weatherUrl = http://api.openweathermap.org/data/2.5/forecast/daily?q=west%20byfleet&units=metric&cnt=1&appid=d94bcd435b62a031771c35633f9f310a;
    // Weather icon http://openweathermap.org/img/w/10d.png https://openweathermap.org/weather-conditions
</script>

</html>